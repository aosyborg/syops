<metal:main use-macro="load: ../layouts/user.pt"
    tal:define="global sidebar_active string:dashboard">
    <metal:slot fill-slot="head">
        <link rel="stylesheet" type="text/css" href="/public/css/index.css" />
    </metal:slot>

    <div metal:fill-slot="content" id="content">
        <div class="content-wrapper">
            <h2>Getting started</h2>
            <p>
                SyOps integrates with GitHub to pull down a specific repository branch
                and run a predefined build script. Assuming this succeeds, SyOps will
                create a release in GitHub and place the created Debian package in its
                own QA or Production repositories. When done correctly, this allows for
                push button deployment of code.
            </p>
            <p>To start, add one of your GitHub repositories and create a release!</p>

            <h3>SyOps repositories</h3>
            <p>
                Add one of the following repositories to your sources list. This will
                allow you to install your packages via APT.
            </p>

            <strong>QA:</strong>
            <pre>
$ sudo echo "deb https://syops.aospace.com/public/repos/qa ./" &gt; /etc/apt/sources.list.d/syops.list
$ sudo apt-get update</pre>

            <strong>Production:</strong>
            <pre>
$ sudo echo "deb https://syops.aospace.com/public/repos/prod ./" &gt; /etc/apt/sources.list.d/syops.list
$ sudo apt-get update</pre>

            <h3>Installation</h3>
            <p>
                Once you have created a release with SyOps and added a SyOps
                repository, installation is as simple as:
            </p>
            <pre>
$ sudo apt-get install myapp</pre>

            <h3>Automation</h3>
            <p>
                Need your servers to auto update? Edit the root users crontab:
            </p>
            <pre>
$ sudo crontab -e</pre>
            <p>
                Check for updates every couple of minutes (two in the example):
            </p>
            <pre>
*/2 * * * * apt-get update -o Dir::Etc::sourcelist="sources.list.d/syops.list" -o Dir::Etcsourceparts="-" -o APT::Get::List-Cleanup="0" && apt-get install myapp</pre>

        </div>
    </div>
</metal:main>
